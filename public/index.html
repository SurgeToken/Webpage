<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VGB53QK33N"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VGB53QK33N');
  </script>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/assets/img/xlogo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/assets/img/xlogo.png" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>xSurge - True Decentralized Finance.</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>


    <script>
      // Set the date we're counting down to
      var getYear = new Date().getFullYear();
      var countDownDate = new Date("Sept 12, "+ getYear +" 15:00:00").getTime();
  
      // Update the count down every 1 second
      var countdownfunction = setInterval(function() {
  
      // Get todays date and time
      var now = new Date().getTime();
      
      // Find the distance between now an the count down date
      var distance = countDownDate - now;
      
      // Time calculations for days, hours, minutes and seconds
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
      // Output the result in an element with id="demo"
      document.getElementById("timer").innerHTML = '<div class="days"><span class="count">' + days + '</span> <span class="text">Days</span></div>' +
      '<div class="hours"><span class="count">'+ hours +'</span> <span class="text">Hours</span></div>' +
      '<div class="min"><span class="count">'+ minutes +'</span> <span class="text">Mins</span></div>' +
      '<div class="sec"><span class="count">'+ seconds +'</span> <span class="text">Secs</span></div>';
      
      // If the count down is over, write some text 
      if (distance < 0) {
          clearInterval(countdownfunction);
          document.getElementById("timer").innerHTML = "SurgeBTC LAUNCH!";
      }
      }, 1000);
  </script>
  
  <script>
  
    function mobileOrder(x) {
  
        if($("#countdown").is(":visible")){
            //do nothing
            var tok = $("#tok");
            var tokbal = $("#tokbal");
  
            var ttok = tok.clone();
            var ttokbal = tokbal.clone();
  
            if (x.matches) { // If media query matches
                tok.replaceWith(ttokbal);
                tokbal.replaceWith(ttok);
            } 
  
        } else {
            var hiw = $('#hiw');
            var htb = $('#htb');
  
            var thiw = hiw.clone();
            var thtb = htb.clone();
  
            if (x.matches) { // If media query matches
                htb.replaceWith(thiw);
                hiw.replaceWith(thtb);
            } 
        }
        
    }
  
    var x = window.matchMedia("(max-width: 767px)");
    
    mobileOrder(x);// Call listener function at run time
    
    x.addListener(mobileOrder); // Attach listener function on state changes                           
    
    
  </script>
  
  <script>
  
    var tempsUSDValueUSD, tempsUSDValueBNB, tempsETHValueUSD, tempsETHValueETH;
  
        
        function copyAddress(id){
            var r = document.createRange();
            var message = "";
            r.selectNode(document.getElementById(id));
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(r);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();
  
            $("#dialog").html(id + " Contract Address Copied!");
            $("#copyMSG").show();
  
            setTimeout(function () {
  
                // Closing the alert
                $("#copyMSG").hide();
            }, 2000);
  
        }
        
        function getTokenStats(){
            $.post("get_token_stats2.php").done(function(data){
                var data = JSON.parse(data);
  
                var sUSDholders, sUSDPrice; 
                var sETHholders, sETHPrice;
  
                $.each(data, function(i, item){
                    sUSDholders =  item.susd_holders;
                    sUSDPrice = item.susd_price;
                    sETHholders =  item.seth_holders;
                    sETHPrice = item.seth_price;
  
                    
  
                    $("#sUSDHolders").html(sUSDholders);
                    $("#sUSDPrice").html(sUSDPrice);
                    $("#sETHHolders").html(sETHholders);
                    $("#sETHPrice").html(sETHPrice);
  
                });
            
            }); 
        }
  
        function calcWallet(walletAddress){
            var wA = walletAddress;
  
            //set the wallet address cookie
            setCookie("user_wallet_address", wA, 30);
            
            $.post("getdata.php", {walletAddress: wA}).done(function(data){
                        var data = JSON.parse(data);
                        var tokenAmount, uTokenValue, tokenUSD, uToken, sToken;
                        var displayHTML = "";
  
                        $.each(data, function(i, item){
                            sToken = item.s_token;
                            tokenAmount = item.token_amount;
                            uToken = item.u_token;
                            uTokenValue = item.value_utoken;
                            tokenUSD = item.value_token_usd;
  
                            displayHTML += "<tr><td>Current Balance:</td><td>"+tokenAmount+ " "+sToken+"</td></tr><tr><td>Current Value ("+uToken+"):</td><td>"+uTokenValue+"</td></tr><tr><td>Current Value (USD):</td><td>$"+tokenUSD+"</td></tr><tr><td>&nbsp;</td></tr>";
                            
                            $("#walletResults").empty();
                            $("#walletResults").append(displayHTML);
                            $("#walletResults").show();
                            $('#calcResults').show();
                            $("#resultsWallet").show();
                            $("#resultsToken").hide();
  
                        });
                    });
  
           
        }
  
        function calcToken(tokenSelect, tokenAmount){
            var tS = tokenSelect;
            var tA = tokenAmount;
  
            //set the susd holdings cookie
            setCookie(tS, tA, 30);
            
  
            switch(tS){
                case "noToken":
                    $("#dialog").html("No Token Selected!");
                    $("#copyMSG").show();
  
                    setTimeout(function () {
                        // Closing the alert
                        $("#copyMSG").hide();
                    }, 2000);
                    break;
                case "sUSD":
                    
                    
  
                    //get total supply of sUSD
                    $.post("calc2.php", {tokenSelected: tS, tokenAmount:tA}).done(function(data){
                        var data = JSON.parse(data);
                        var valueUSD, valueBNB;
                        var tokenName = "BNB";
  
                        $.each(data, function(i, item){
                            valueUSD = item.value_usd;
                            valueBNB = item.value_bnb;
  
                            tempsUSDValueUSD = item.value_usd;
                            tempsUSDValueBNB = item.value_bnb;
  
                            $("#tokenBalance").html(tokenAmount + " sUSD");
                            $("#tokenName").html("Current Value (BNB)");
                            $("#tokenValue").html(valueBNB);
                            $("#tokenValueUSD").html("$" + valueUSD);
  
                            $('#calcResults').show();
                            $("#resultsWallet").hide();
                            $("#resultsToken").show();
  
  
                        });
                    });
  
                    break;
                case "sETH":
  
                    
  
                    $.post("calc2.php", {tokenSelected: tS, tokenAmount:tA}).done(function(data){
                        var data = JSON.parse(data);
                        var valueUSD, valueETH;
                        var tokenName = "ETH";
  
                        $.each(data, function(i, item){
                            valueUSD = item.value_usd;
                            valueETH = item.value_eth;
                            tempsETHValueUSD = item.value_usd;
                            tempsETHValueETH = item.value_eth;
  
                            $("#tokenBalance").html(tokenAmount + " sETH");
                            $("#tokenName").html("Current Value (ETH)");
                            $("#tokenValue").html(valueETH);
                            $("#tokenValueUSD").html("$" + valueUSD);
  
                            $('#calcResults').show();
                            $("#resultsWallet").hide();
                            $("#resultsToken").show();
  
  
                        });
                    });
                    break;
  
                default:
                    break;
            }
        }
  
        function setCookie(cname, cvalue, exdays) {
            const d = new Date();
            d.setTime(d.getTime() + (exdays*24*60*60*1000));
            let expires = "expires="+ d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }
  
        function getCookie(cname) {
            let name = cname + "=";
            let decodedCookie = decodeURIComponent(document.cookie);
            let ca = decodedCookie.split(';');
            for(let i = 0; i <ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) == ' ') {
                c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
                }
            }
            return "";
        }
  
        function checkCookie() {
            let cookieAddress = getCookie("user_wallet_address");
            let susdHolding = getCookie("sUSD");
            let sethHolding = getCookie("sETH");
        }
  
    
  
    $(document).ready(function() {
  
        
        $("#calcBtn").hide();
        $('#calcResults').hide();
        $("#copyMSG").hide();
  
         //Login Functions   
         $('#userInput').keypress(function (e) {
                var key = e.which;
                if(key == 13)  // the enter key code
                {
  
                    switch($("#userSelect").val()){
                        case "wallet":
                            var walletAddress = $("#userInput").val();
                            calcWallet(walletAddress);
                            break;
                        case "sUSD":
                        case "sETH":
                            var ts = $("#userSelect").val();
                            var ta = $("#userInput").val();
                            calcToken(ts, ta);
                            break;
                        default:
                            break;
  
                    }
  
                    return false;  
                }
            });
  
        //initial call for token stats
        getTokenStats();
  
        //run getTokenStats every 10 seconds
        setInterval(function(){ 
            getTokenStats();
        }, 15000);
       
  
        $('#userSelect').on('change', function() {
  
            switch($("#userSelect").val()){
                case "wallet":
                    
  
                    $('#calcResults').hide();
                    $("#userInput").val(getCookie("user_wallet_address"));
                    $("#userInput").attr("placeholder", "Enter Wallet Address");
                    $("#calcBtn").html("Show");
                    $("#calcBtn").show();
                    $("#tokenBalanceSUSD").html("Loading");
                    $("#tokenValueBNB").html("Loading");
                    $("#tokenValuesusdUSD").html("Loading");
                    $("#tokenBalanceSETH").html("Loading");
                    $("#tokenValueETH").html("Loading");
                    $("#tokenValuesethUSD").html("Loading");
                    break;
                //For all other tokens
                case "sETH":
                    $('#calcResults').hide();
                    $("#userInput").val(getCookie("sETH"));
                    $("#userInput").attr("placeholder", "Enter Token Amount");
                    $("#calcBtn").html("Calculate");
                    $("#calcBtn").show();
                    $("#tokenBalance").html("Loading");
                    $("#tokenValue").html("Loading");
                    $("#tokenValueUSD").html("Loading");
                    break;
                case "sUSD":
                    $('#calcResults').hide();
                    $("#userInput").val(getCookie("sUSD"));
                    $("#userInput").attr("placeholder", "Enter Token Amount");
                    $("#calcBtn").html("Calculate");
                    $("#calcBtn").show();
                    $("#tokenBalance").html("Loading");
                    $("#tokenValue").html("Loading");
                    $("#tokenValueUSD").html("Loading");
                    break;
                default:
                    break;
            }
        });
  
        $("#calcBtn").click(function(){
  
            //check if user Chose a token or to enter wallet address
            switch($("#userSelect").val()){
                case "wallet":
                    var walletAddress = $("#userInput").val();
                    calcWallet(walletAddress);
                    break;
                //For all other tokens
                default:
                    var ts = $("#userSelect").val();
                    var ta = $("#userInput").val();
                    calcToken(ts, ta);
                    break;
            }
            
            
        });
  
        setInterval(function(){ 
            if($("#calcResults").is(":visible")){
                switch($("#userSelect").val()){
                    case "wallet":
                        var walletAddress = $("#userInput").val();
                        calcWallet(walletAddress);
                        break;
                    case "sUSD":
                    case "sETH":
                        var ts = $("#userSelect").val();
                        var ta = $("#userInput").val();
                        calc(ts, ta);
                        break;
                    default:
                        break;
                }
            }
            
        }, 15000);
        
        
    });
  </script>
    
  </body>


</html>
